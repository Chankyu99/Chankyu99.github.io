---
title: "[Statistics] 4장 추론통계 ~ 신뢰구간"
description: "빅데이터 시대, 올바른 인사이트를 위한 통계X101 데이터분석"
date: 2025-12-09
categories: [Development, Statistics]
tags: [Statistics]
math: true
mermaid: true
---

## 4.1 추론통계를 배우기 전에

> 추론통계 방법에 있어 데이터(표본)을 얻는다 = 모집단에 포함된 전체 값으로 구성된 분포에서 일부를 추출

* **<mark>모집단표본</mark>** : 모집단을 나타내는 분포

* **<mark>모수(parameter)</mark>** : 모집단의 특징을 나타내는 값 (예: 평균, 분산)

확률분포와 실현값의 관계는 모집단의 표본의 관계와 매우 유사하다. 

우리는 얻은 실현값(표본)으로 이 값을 발생시킨 확률분포(모집단)를 추정하고, 모형화를 통해 모집단 분포를 수학적인 확률분포에 근사한다.

---

실현값을 추출 시 편향된 추출이 된다면 올바른 추정이 불가능 하므로 **<mark>무작위추출(random sampling)</mark>**를 사용한다.

**<mark>무작위추출(random sampling)</mark>** : 데이터를 얻을 때 모집단에 포함된 요소를 하나씩 무작위로 선택하여 추출

1. **<mark>단순무작위추출법</mark>** : 난수를 이용해 모든 요소를 랜덤으로 추출
2. **<mark>층화추출법</mark>** : 모집단을 층으로 나누고, 각 층에서 무작위로 추출 (실제로 가장 많이 쓰이는 방식)

---

* 추론통계를 직감적으로 이해하는 법

```mermaid
flowchart LR
    A[추론통계] --> B[모집단 표본 추출]
    B --> C[모집단 표본 조사]
    C --> D[모집단 추정]
```

## 4.2 표본오차와 신뢰구간

**<mark>표본오차</mark>** : 모집단평균(정말 알고 싶은 것)과 표본평균(실제로 손 안에 있는 데이터)의 차이

**<mark>큰 수의 법칙</mark>** : 표본크기 $n$이 커질수록 표본평균 $\bar{x}$가 모집단평균 $\mu$에 수렴한다.

> 표본오차의 확률분포를 알면 어느 정도 크기의 오차가, 어느 정도의 확률로 나타나느지를 알 수 있게 된다.

**<mark>중심극한정리</mark>** : 모집단의 분포와 관계없이 표본크기 $n$이 커질수록 표본평균 $\bar{x}$의 분포가 정규분포를 따른다.

$$\bar{x} \sim N(\mu, \frac{\sigma}{\sqrt{n}})$$

_<center>"평균이 $\mu$, 표준편차가 $\frac{\sigma}{\sqrt{n}}$인 정규분포를 따른다."</center>_

**<mark>추정량</mark>** : 모집단의 성질을 추정하는 데 사용하는 통계량

- **<mark>일치추정량</mark>** : 표본크기를 무한대로 했을 때, 모집단의 성질과 일치하는 추정량
- **<mark>비편향추정량</mark>** : 추정량의 기댓값이 모집단의 성질과 일치하는 추정량
> 비편향추정량은 얻을 때마다 확률적으로 다른값이지만, 평균적으로 보면 모집단의 성질을 과대하지도 과소하지도 않게 나타내는 양을 뜻한다.

- **<mark>비편향표준편차</mark>** : 표본표준편차에서 모집단의 표준편차 $\sigma$를 과소평가하는 문제점을 해결 

$$s = \sqrt{s^2} = \sqrt{\frac{1}{n-1} \sum_{i=1}^{n} (x_i - \bar{x})^2}$$

_<center>"표본표준편차의 정의에서 분모를 $n-1$로 설정하여 모집단 표준편차를 과소평가하는 문제점을 해결"</center>_

---

중심극한정리에 의해 표본평균 $\bar{x}$의 분포평균이 모집단의 평균 $\mu$와 같으므로 표본오차($\bar{x} - \mu$)의 분포평균은 0이 된다.

$$\bar{x}-\mu \sim N(0, \frac{\sigma}{\sqrt{n}})$$

_<center>"동일한 표본표준편차를 가진채 분포 전체를 $\mu$만큼 평행이동한 것"</center>_

모집단의 성질인 $\sigma$를 알 방법이 없으니, 앞서 구한 비편향표준편차 $s$를 사용해 $\frac {s}{\sqrt{n}}$을 **표준오차**로 삼는다.

---

**<mark>신뢰구간</mark>** : 오차를 정량화하기 위해 모집단평균이 있을 확률의 구간을 정의

$$ \text{평균} \pm (\text{보정값} \times \text{표준오차})$$

표본오차 $\bar{x} - \mu$는 평균이 $0$, 표본편차가 $\frac {s}{\sqrt{n}}$인 정규분포를 대충 따르기 때문에 표본오차의 약 95%를 포함하는 구간을 신뢰구간으로 정의한다.

$$ 0-2\times \frac {s}{\sqrt{n}} \leq \bar x - \mu \leq 0 + 2 \times \frac {s}{\sqrt{n}}$$


$\bar x$에서 $\mu$를 알고 싶기 때문에 식을 이항하고 정리하면 

$$ \bar x - 2\times \frac {s}{\sqrt{n}} \leq \mu \leq \bar x + 2 \times \frac {s}{\sqrt{n}}$$

즉, **95%의 신뢰구간**이라는 말은 <u>"95%의 확률로 이 구간에 모집단평균 $\mu$가 포함된다"</u>는 의미이다.

--- 

**<mark>t분포</mark>** : 모집단이 정규분포라는 가정하에 미지의 모집단 표준편차 $\sigma$를 표본으로 계산한 비편향표준편차 $s$를 대용했을 때, $\bar x -\mu$ 를 표준오차 $s/\sqrt n$로 나누어 표준화한 값이 따르는 분포

- 주어진 데이터 수가 적고 모집단의 표준편차를 모르니, 정규분포 대신 쓰는 약간 넉넉한 분포라고 생각
- 보다 신뢰 가능한 평균값을 추정하고 싶을 때, **표준오차**를 작게 만들면 된다.

